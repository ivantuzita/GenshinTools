@page "/weapons/list"

@if (string.IsNullOrEmpty(Message) == false)
{
    <div class="alert alert-danger">
        @Message
    </div>
}

@if (UserWeapons == null)
{
    <p>Loading Data...</p>
}
else
{
    <div class="container mt-3">
        <div class="accordion" id="accordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <strong>My Weapons</strong>
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample" style="">
                    <div class="accordion-body">
                        <table class="table table-hover" style="text-align: center; border-radius:6px;">
                            <thead>
                                <tr class="table-dark">
                                    <th scope="col">
                                        Image
                                    </th>
                                    <th scope="col">
                                        Name
                                    </th>
                                    <th scope="col">
                                        Actions
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var userweapon in UserWeapons)
                                {
                                    <tr scope="row" class="table-active">
                                        <td><img src="@userweapon.PictureURL" width="100" height="100" /></td>
                                        <th style="vertical-align: middle;">@userweapon.Name</th>
                                        <td style="vertical-align: middle;">
                                            <button class="btn btn-danger" @onclick=@(() => DisassociateWeapon(userweapon.Id))>
                                                Remove Weapon
                                            </button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        <strong>Weapons I don't have</strong>
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample" style="">
                    <div class="accordion-body">
                        <table class="table table-hover" style="text-align: center; border-radius:6px;">
                            <thead>
                                <tr class="table-dark">
                                    <th scope="col">
                                        Image
                                    </th>
                                    <th scope="col">
                                        Name
                                    </th>
                                    <th scope="col">
                                        Actions
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var weapon in Weapons)
                                {
                                    <tr scope="row" class="table-active">
                                        <td><img src="@weapon.PictureURL" width="100" height="100" /></td>
                                        <th style="vertical-align: middle;">@weapon.Name</th>
                                        <td style="vertical-align: middle;">
                                            <button class="btn btn-success" @onclick=@(() => AssociateWeapon(weapon.Id))>
                                                Add Weapon
                                            </button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
